/*! Built with http://stenciljs.com */
const{h:e}=window.insites;import{b as t,c as n,d as r,a}from"./chunk-9d0a7c54.js";class o{constructor(){this.breadcrumbs=[]}routePageHandler(e,t){let n=this.breadcrumbs.length,r=n-1===t;if(!e.withSubmenu&&!r){this.breadcrumbs.splice(t+1,n);let e=JSON.parse(JSON.stringify(this.breadcrumbs));this.routePage.emit({crumbs:e})}}updateCrumbs(e){this.breadcrumbs=e;let t=JSON.stringify(e);window.sessionStorage.setItem("ins_breadcrumbs",t);let n=JSON.parse(t).pop();n.app||n.withSubmenu||window.location.assign(n.link)}render(){if(this.breadcrumbs.length>1)return e("div",{class:"ins-breadcrumbs"},e("ul",null,this.breadcrumbs.map((t,n)=>e("li",null,e("span",{class:`crumb-label ${t.withSubmenu?"":"has-link"}`,onClick:()=>this.routePageHandler(t,n)},t.label),e("span",{class:"arrow-right"})))))}static get is(){return"ins-breadcrumbs"}static get properties(){return{breadcrumbs:{state:!0},updateCrumbs:{method:!0}}}static get events(){return[{name:"routePage",method:"routePage",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return".ins-breadcrumbs{position:absolute;top:calc(50% - 12px);right:calc(20px + .9375rem)}.ins-breadcrumbs ul{margin:0;padding:0;line-height:10px}.ins-breadcrumbs ul li{display:inline-block;padding-left:10px}.ins-breadcrumbs ul li .crumb-label{font-size:12px;color:#2c3148}.ins-breadcrumbs ul li .crumb-label.has-link:hover{cursor:pointer;color:#1e86e3}.ins-breadcrumbs ul li .arrow-right{width:7px;height:7px;border-top:solid 1px #8c94a4;border-right:solid 1px #8c94a4;display:inline-block;-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:8px}.ins-breadcrumbs ul li:first-of-type{padding-left:0}.ins-breadcrumbs ul li:last-of-type a{color:#c9cdd4}.ins-breadcrumbs ul li:last-of-type .crumb-label{font-size:12px;color:#8c94a4}.ins-breadcrumbs ul li:last-of-type .crumb-label.has-link:hover{cursor:text;color:#8c94a4}.ins-breadcrumbs ul li:last-of-type .arrow-right{display:none}.ins-breadcrumbs ul li a{color:#8c94a4}"}}var i="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}var l=s,c=u;function h(e){if(l===setTimeout)return setTimeout(e,0);if((l===s||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}"function"==typeof i.setTimeout&&(l=setTimeout),"function"==typeof i.clearTimeout&&(c=clearTimeout);var d,f=[],p=!1,m=-1;function g(){p&&d&&(p=!1,d.length?f=d.concat(f):m=-1,f.length&&v())}function v(){if(!p){var e=h(g);p=!0;for(var t=f.length;t;){for(d=f,f=[];++m<t;)d&&d[m].run();m=-1,t=f.length}d=null,p=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===u||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(e)}}function b(e,t){this.fun=e,this.array=t}function y(){}b.prototype.run=function(){this.fun.apply(null,this.array)};var w=y,E=y,O=y,S=y,L=y,P=y,T=y,k=i.performance||{},_=k.now||k.mozNow||k.msNow||k.oNow||k.webkitNow||function(){return(new Date).getTime()},x=new Date,A={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new b(e,t)),1!==f.length||p||h(v)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:w,addListener:E,once:O,off:S,removeListener:L,removeAllListeners:P,emit:T,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*_.call(k),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-x)/1e3}},C=function(){},j=Object.freeze({default:C,__moduleExports:C}),H=A.env.NODE_ENV,R=function(e,t,n,r,a,o,i,s){if("production"!==H&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,o,i,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},M=Object.freeze({default:R,__moduleExports:R});function B(e){return"/"===e.charAt(0)}function U(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&B(e),o=t&&B(t),i=a||o;if(e&&B(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var s=void 0;if(r.length){var u=r[r.length-1];s="."===u||".."===u||""===u}else s=!1;for(var l=0,c=r.length;c>=0;c--){var h=r[c];"."===h?U(r,c):".."===h?(U(r,c),l++):l&&(U(r,c),l--)}if(!i)for(;l--;l)r.unshift("..");!i||""===r[0]||r[0]&&B(r[0])||r.unshift("");var d=r.join("/");return s&&"/"!==d.substr(-1)&&(d+="/"),d}var z=Object.freeze({default:N}),D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function I(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return I(e,t[n])});var n=void 0===e?"undefined":D(e);if(n!==(void 0===t?"undefined":D(t)))return!1;if("object"===n){var r=e.valueOf(),a=t.valueOf();if(r!==e||a!==t)return I(r,a);var o=Object.keys(e),i=Object.keys(t);return o.length===i.length&&o.every(function(n){return I(e[n],t[n])})}return!1}var q=Object.freeze({default:I}),J=r(function(e,t){t.__esModule=!0,t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var n=t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};t.stripBasename=function(e,t){return n(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}}),W=n(J),F=J.addLeadingSlash,G=J.stripLeadingSlash,Y=J.hasBasename,V=J.stripBasename,$=J.stripTrailingSlash,K=J.parsePath,Q=J.createPath,X=Object.freeze({default:W,__moduleExports:J,addLeadingSlash:F,stripLeadingSlash:G,hasBasename:Y,stripBasename:V,stripTrailingSlash:$,parsePath:K,createPath:Q}),Z=z&&N||z,ee=q&&I||q,te=X&&W||X,ne=r(function(e,t){t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=o(Z),a=o(ee);function o(e){return e&&e.__esModule?e:{default:e}}t.createLocation=function(e,t,a,o){var i=void 0;"string"==typeof e?(i=(0,te.parsePath)(e)).state=t:(void 0===(i=n({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return a&&(i.key=a),o?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=(0,r.default)(i.pathname,o.pathname)):i.pathname=o.pathname:i.pathname||(i.pathname="/"),i},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,a.default)(e.state,t.state)}}),re=n(ne),ae=ne.locationsAreEqual,oe=ne.createLocation,ie=Object.freeze({default:re,__moduleExports:ne,locationsAreEqual:ae,createLocation:oe}),se=j&&C||j,ue=r(function(e,t){t.__esModule=!0;var n,r=(n=se)&&n.__esModule?n:{default:n};t.default=function(){var e=null,t=[];return{setPrompt:function(t){return(0,r.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,a,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof a?a(i,o):((0,r.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}}),le=n(ue),ce=Object.freeze({default:le,__moduleExports:ue}),he=r(function(e,t){t.__esModule=!0,t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}}),de=n(he),fe=he.canUseDOM,pe=he.addEventListener,me=he.removeEventListener,ge=he.getConfirmation,ve=he.supportsHistory,be=he.supportsPopStateOnHashChange,ye=he.supportsGoWithoutReloadUsingHash,we=he.isExtraneousPopstateEvent,Ee=Object.freeze({default:de,__moduleExports:he,canUseDOM:fe,addEventListener:pe,removeEventListener:me,getConfirmation:ge,supportsHistory:ve,supportsPopStateOnHashChange:be,supportsGoWithoutReloadUsingHash:ye,isExtraneousPopstateEvent:we}),Oe=M&&R||M,Se=ie&&re||ie,Le=ce&&le||ce,Pe=Ee&&de||Ee;const Te=n(r(function(e,t){t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(se),o=s(Oe),i=s(Le);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){try{return window.history.state||{}}catch(e){return{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(Pe.canUseDOM,"Browser history needs a DOM");var t=window.history,s=(0,Pe.supportsHistory)(),l=!(0,Pe.supportsPopStateOnHashChange)(),c=e.forceRefresh,h=void 0!==c&&c,d=e.getUserConfirmation,f=void 0===d?Pe.getConfirmation:d,p=e.keyLength,m=void 0===p?6:p,g=e.basename?(0,te.stripTrailingSlash)((0,te.addLeadingSlash)(e.basename)):"",v=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return(0,a.default)(!g||(0,te.hasBasename)(i,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+i+'" to begin with "'+g+'".'),g&&(i=(0,te.stripBasename)(i,g)),(0,Se.createLocation)(i,r,n)},b=function(){return Math.random().toString(36).substr(2,m)},y=(0,i.default)(),w=function(e){r(H,e),H.length=t.length,y.notifyListeners(H.location,H.action)},E=function(e){(0,Pe.isExtraneousPopstateEvent)(e)||L(v(e.state))},O=function(){L(v(u()))},S=!1,L=function(e){S?(S=!1,w()):y.confirmTransitionTo(e,"POP",f,function(t){t?w({action:"POP",location:e}):P(e)})},P=function(e){var t=H.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(S=!0,x(a))},T=v(u()),k=[T.key],_=function(e){return g+(0,te.createPath)(e)},x=function(e){t.go(e)},A=0,C=function(e){1===(A+=e)?((0,Pe.addEventListener)(window,"popstate",E),l&&(0,Pe.addEventListener)(window,"hashchange",O)):0===A&&((0,Pe.removeEventListener)(window,"popstate",E),l&&(0,Pe.removeEventListener)(window,"hashchange",O))},j=!1,H={length:t.length,action:"POP",location:T,createHref:_,push:function(e,r){(0,a.default)(!("object"===(void 0===e?"undefined":n(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,Se.createLocation)(e,r,b(),H.location);y.confirmTransitionTo(o,"PUSH",f,function(e){if(e){var n=_(o),r=o.key,i=o.state;if(s)if(t.pushState({key:r,state:i},null,n),h)window.location.href=n;else{var u=k.indexOf(H.location.key),l=k.slice(0,-1===u?0:u+1);l.push(o.key),k=l,w({action:"PUSH",location:o})}else(0,a.default)(void 0===i,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=n}})},replace:function(e,r){(0,a.default)(!("object"===(void 0===e?"undefined":n(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=(0,Se.createLocation)(e,r,b(),H.location);y.confirmTransitionTo(o,"REPLACE",f,function(e){if(e){var n=_(o),r=o.key,i=o.state;if(s)if(t.replaceState({key:r,state:i},null,n),h)window.location.replace(n);else{var u=k.indexOf(H.location.key);-1!==u&&(k[u]=o.key),w({action:"REPLACE",location:o})}else(0,a.default)(void 0===i,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(n)}})},go:x,goBack:function(){return x(-1)},goForward:function(){return x(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=y.setPrompt(e);return j||(C(1),j=!0),function(){return j&&(j=!1,C(-1)),t()}},listen:function(e){var t=y.appendListener(e);return C(1),function(){C(-1),t()}}};return H}}))();class ke{constructor(){this.app=!1,this.pathname=window.location.pathname}val(e,t){let n={link:this.link,app:this.app,label:this.label};if(e&&"object"==typeof e&&!t)console.log("this is json");else{if(e&&!t)return this[e];if(!e||!t)return n;this[e]=t}}updateRoute(e){if(e.length){let t=e.length-1;if(this.route=e[t],setTimeout(()=>{this.insBreadCrumbsEl=this.insRendererEl.querySelector("ins-breadcrumbs"),this.insBreadCrumbsEl.updateCrumbs(e)},200),this.label=this.route.label,this.route.app){let e=this.route.label.replace(/ +(?= )/g,"");this.pushHistory(e)}}}pushHistory(e,t=!1){let n=e.toLowerCase().replace(/- | - | -| /gi,"-");if(1==t){let t=window.location.hash;n=this.pathname+t+"/"+n;let r=JSON.parse(localStorage.getItem("insChildPages"))?JSON.parse(localStorage.getItem("insChildPages")):[];if(!a.find(r,{hash:n})){let a=this.insRendererEl.querySelector("#insRendererFrame");setTimeout(()=>{r.push({parentHash:this.pathname+t,hash:n,childLink:a.contentDocument.location.pathname,pageTitle:e}),localStorage.setItem("insChildPages",JSON.stringify(r))},500)}}else n=this.pathname+"#/"+n;Te.push({pathname:n,state:{pageTitle:e,url:n}})}componentWillLoad(){this.link&&(this.route={label:this.label?this.label:"Default Page",app:this.app,link:this.link})}resizeIframe(){setTimeout(()=>{let e=this.insRendererEl.querySelector("#insRendererFrame");e.style.height=e.contentWindow.document.body.scrollHeight+"px",e.style.opacity="1"},500)}render(){if(this.route)return this.route.app?e("div",{class:"ins-renderer-wrap"},e("h1",{class:"ins-renderer-wrap__title"},this.route.label,e("ins-breadcrumbs",null)),e("iframe",{id:"insRendererFrame",src:this.route.link,width:"100%",frameborder:"0",marginheight:"0",marginwidth:"0"}),e("div",{class:"hide-slot"},e("slot",null))):e("div",{class:"ins-renderer-wrap"},e("h1",{class:"ins-renderer-wrap__title"},this.route.label,e("ins-breadcrumbs",null)),e("slot",null))}static get is(){return"ins-renderer"}static get properties(){return{app:{type:Boolean,attr:"app",mutable:!0},insBreadCrumbsEl:{state:!0},insRendererEl:{elementRef:!0},label:{type:String,attr:"label",mutable:!0},link:{type:String,attr:"link",mutable:!0},pathname:{state:!0},pushHistory:{method:!0},resizeIframe:{method:!0},route:{state:!0},updateRoute:{method:!0},val:{method:!0}}}static get style(){return".ins-renderer-wrap{padding:0 20px;padding-right:0;-webkit-box-sizing:border-box;box-sizing:border-box}\@media only screen and (min-width:768px){.ins-renderer-wrap{padding-right:0}}.ins-renderer-wrap__title{opacity:.87;color:#2c3148;font-size:32px;font-weight:300;margin-top:10px;padding:0 .9375rem;font-family:\"Open Sans\",sans-serif;position:relative}.ins-renderer-wrap iframe{border:none;width:100%;height:calc(100vh - 150px);overflow:auto;-webkit-box-sizing:border-box;box-sizing:border-box}.hide-slot{display:none}\@media only screen and (max-width:320px){.ins-renderer-wrap__title h2{padding:0 10px}}"}}export{o as InsBreadcrumbs,ke as InsRenderer};