/*! Built with http://stenciljs.com */
const{h:t}=window.insites;class e{constructor(){this.name="Line Chart",this.categories=[],this.chartData=[],this.dataSrc="",this.labelTextSize="12px",this.itemTextSize="14px"}val(t,e){let a={name:this.name,categories:this.categories,chartData:this.chartData,dataSrc:this.dataSrc};return t&&!e?this[t]:t&&e?this[t]=e:a}fetchLineChartData(){const t=this;let e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){let e=JSON.parse(this.responseText);t.reRenderChart(e.lineGraphSampleData,["Jan 17","Feb 17","Mar 17","Apr 17","May 17","Jun 17","Jul 17","Aug 17","Sep 17","Oct 17","Nov 17","Dec 17"])}},e.open("GET",this.dataSrc,!0),e.send()}componentWillLoad(){"string"==typeof this.chartData&&(this.chartData=JSON.parse(this.chartData)),"string"==typeof this.categories&&(this.categories=JSON.parse(this.categories))}resizeFontSize(){window.outerWidth<768&&(this.labelTextSize="10px",this.itemTextSize="12px")}componentDidLoad(){const t=this;t.container=this.insLineChartEl.querySelector(".line-chart-container"),t.dataSrc&&t.fetchLineChartData(),window.onresize=function(){t.resizeFontSize()},t.resizeFontSize()}reRenderChart(t,e){this.chartData=t,this.categories=e,this.renderChart()}watchChartData(){this.componentWillLoad(),this.renderChart()}watchCategoryHandler(){this.componentWillLoad(),this.renderChart()}renderChart(){window.Highcharts&&Highcharts.chart({chart:{renderTo:this.container,type:"spline",plotBackgroundColor:{linearGradient:[0,0,0,400],stops:[[0,"rgba(238,238,238,0)"],[1,"rgb(245, 246, 248)"]]},zoomType:"x",animation:!0,spacingLeft:0,spacingRight:0,spacingTop:0,style:{fontFamily:"Open Sans"}},responsive:{rules:[{condition:{maxWidth:900}}]},rangeSelector:{enabled:!0},navigator:{enabled:!0},title:{text:null},exporting:{enabled:!1},tooltip:{shared:!0,borderWidth:0,shadow:{opacity:.02,offsetX:1,offsetY:1,width:10},padding:5,backgroundColor:"#fff"},xAxis:[{crosshair:{color:"#ccc",width:1,zIndex:1,dashStyle:"dash"},alternateGridColor:"#ffffff",type:"datetime",dateTimeLabelFormats:{week:"%b %e",day:"%b %e",month:"%b"},categories:this.categories,startOnTick:!1,endOnTick:!1,gridLineWidth:0,minPadding:.015,maxPadding:.0075,tickLength:0,labels:{align:"center",style:{color:"#8C94A4",fontSize:this.labelTextSize},x:0,y:40}}],yAxis:{allowDecimals:!1,title:{text:null},gridLineColor:"#dce1e8",labels:{align:"right",x:-20,y:0,style:{color:"#8C94A4",fontSize:this.labelTextSize}},plotLines:[{color:"#E4E6EC",width:1,value:0,zIndex:2}],min:0},legend:{enabled:!0,align:"center",layout:"horizontal",verticalAlign:"bottom",itemStyle:{color:"#8C94A4",fontSize:this.itemTextSize,fontWeight:"normal"},itemMarginTop:30,symbolWidth:32},credits:{enabled:!1},plotOptions:{series:{marker:{enabled:!1,fillColor:"#fff",symbol:"circle",radius:1}}},series:this.chartData})}render(){return t("div",{class:"ins-line-chart"},t("h2",null,this.name),t("div",{class:"line-chart-container"}))}static get is(){return"ins-line-chart"}static get properties(){return{categories:{type:"Any",attr:"categories",mutable:!0,watchCallbacks:["watchCategoryHandler"]},chartData:{type:"Any",attr:"chart-data",mutable:!0,watchCallbacks:["watchChartData"]},container:{state:!0},dataSrc:{type:String,attr:"data-src",mutable:!0},insLineChartEl:{elementRef:!0},itemTextSize:{state:!0},labelTextSize:{state:!0},name:{type:String,attr:"name",mutable:!0},reRenderChart:{method:!0},val:{method:!0}}}static get style(){return"ins-line-chart .ins-line-chart{background-color:#fff;position:relative;min-height:60px}ins-line-chart h2{margin-top:0;font-size:24px;font-weight:300;font-family:'Open Sans',sans-serif}ins-line-chart svg.highcharts-root{font-family:\"Open Sans\",sans-serif}\@media only screen and (max-width:736px){ins-line-chart h2{position:relative}}\@media only screen and (max-width:320px){ins-line-chart h2{position:relative}}"}}export{e as InsLineChart};